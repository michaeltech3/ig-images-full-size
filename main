<!-- Start of Instagram Full Size Viewer -->
<div id="igFullSizeViewer" class="tool-form-1">
    <h5>View Full-Size Instagram Photos</h5>

    <label for="instaURL" class="centered-label">Enter the opened image's URL from the new tab</label>
    <input type="text" id="instaURL" class="tool-input-1" placeholder="Paste opened image URL here" oninput="autoGenerateLink()">

    <div style="height: 35px;"></div> <!-- Space added here -->

    <label for="fullSizeURL" class="centered-label">Full Size Image URL</label>
    <input type="text" id="fullSizeURL" class="tool-input-1" placeholder="Generated URL will appear here" readonly>

    <div class="buttons">
        <button class="tool-button-1" onclick="copyToClipboard()">Copy URL</button>
        <button class="tool-button-1" onclick="viewImage()">Open Image</button>
    </div>

    <div style="height: 15px;"></div> <!-- Half the size of the text field added here -->

    <p class="centered-label" style="font-size: 12px;">After opening the image, focus on the browser address bar by clicking it or pressing Ctrl+L (Cmd+L for Mac).</p>
</div>

<script>
    function autoGenerateLink() {
        let url = document.getElementById('instaURL').value;
        if (url.includes("instagram.com")) {
            let fullSizeURL = url + "media/?size=l";
            document.getElementById('fullSizeURL').value = fullSizeURL;
        }
    }

    function copyToClipboard() {
        let copyText = document.getElementById("fullSizeURL");
        copyText.select();
        copyText.setSelectionRange(0, 99999);
        document.execCommand("copy");
        alert("Copied the URL: " + copyText.value);
    }

    function viewImage() {
        let url = document.getElementById('fullSizeURL').value;
        
        if (url && url.includes("instagram.com")) {
            let newTab = window.open('about:blank', "_blank");
            newTab.location.href = url;
        } else {
            alert("Please enter a valid Instagram image URL.");
        }
    }
</script>

<!-- End of Instagram Full Size Viewer -->
